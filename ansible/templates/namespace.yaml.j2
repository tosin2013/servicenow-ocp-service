---
apiVersion: v1
kind: Namespace
metadata:
  name: "{{ project_name }}"
  labels:
    servicenow-request: "{{ servicenow_request_number }}"
    environment: "{{ project_environment | default('development') }}"
    team: "{{ (team_members | join('-') if team_members is defined and team_members is iterable and team_members is not string else (team | replace(',', '-') | replace(' ', '') if team is defined else 'default')) }}"
    managed-by: "servicenow-aap"
    project-type: "{{ project_type | default('standard') }}"
  annotations:
    openshift.io/display-name: "{{ display_name }}"
    openshift.io/description: "{{ project_description | default(description | default('Project created via ServiceNow')) }}"
    openshift.io/requestor: "{{ requestor }}"
    servicenow.com/request-item: "{{ servicenow_request_item | default('') }}"
    servicenow.com/sys-id: "{{ servicenow_sys_id | default('') }}"
    created-by: "servicenow-aap-integration"
